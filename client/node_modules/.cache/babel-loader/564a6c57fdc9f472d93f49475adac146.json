{"ast":null,"code":"var _jsxFileName = \"/home/mahfuzur/Desktop/argupedia_githubrepo/argupedia/client/src/components/Graph/Graph.js\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport * as d3 from 'd3';\nconst Graph = ({\n  argumentSchema,\n  handleNodeClick\n}) => {\n  const svgRef = useRef(null);\n  const [clickedNode, setClickedNode] = useState(null);\n  const [replyButtonClicked, setReplyButtonClicked] = useState(false);\n  useEffect(() => {\n    const svg = d3.select(svgRef.current);\n\n    // Adjust width and height of the SVG container\n    const containerWidth = window.innerWidth * 0.9; // 90% of the window width\n    const containerHeight = 300; // Fixed height\n\n    svg.attr('width', containerWidth).attr('height', containerHeight);\n\n    // Clear existing content\n    svg.selectAll('*').remove();\n\n    // Render nodes\n    if (argumentSchema) {\n      const nodes = [{\n        id: argumentSchema._id,\n        label: argumentSchema.title\n      }];\n      svg.selectAll('circle').data(nodes).enter().append('circle').attr('cx', containerWidth / 2).attr('cy', containerHeight / 2).attr('r', 20).attr('fill', '#1f77b4').attr('stroke', d => d.id === clickedNode && !replyButtonClicked ? 'red' : 'none') // Update stroke condition\n      .attr('stroke-width', 2).on('click', (event, d) => {\n        setClickedNode(prevClickedNode => prevClickedNode === d.id ? null : d.id);\n        handleNodeClick(d.id);\n      });\n    }\n  }, [argumentSchema, clickedNode, handleNodeClick, replyButtonClicked]);\n  const handleCancelButtonClick = () => {\n    setClickedNode(null); // Reset clickedNode state\n    setReplyButtonClicked(false); // Update replyButtonClicked state\n  };\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    ref: svgRef,\n    style: {\n      border: '1px solid #ccc'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, replyButtonClicked && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleCancelButtonClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, \"Cancel\"));\n};\nexport default Graph;","map":{"version":3,"names":["React","useEffect","useRef","useState","d3","Graph","argumentSchema","handleNodeClick","svgRef","clickedNode","setClickedNode","replyButtonClicked","setReplyButtonClicked","svg","select","current","containerWidth","window","innerWidth","containerHeight","attr","selectAll","remove","nodes","id","_id","label","title","data","enter","append","d","on","event","prevClickedNode","handleCancelButtonClick","createElement","ref","style","border","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick"],"sources":["/home/mahfuzur/Desktop/argupedia_githubrepo/argupedia/client/src/components/Graph/Graph.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport * as d3 from 'd3';\n\nconst Graph = ({ argumentSchema, handleNodeClick }) => {\n  const svgRef = useRef(null);\n  const [clickedNode, setClickedNode] = useState(null);\n  const [replyButtonClicked, setReplyButtonClicked] = useState(false);\n\n  useEffect(() => {\n    const svg = d3.select(svgRef.current);\n\n    // Adjust width and height of the SVG container\n    const containerWidth = window.innerWidth * 0.9; // 90% of the window width\n    const containerHeight = 300; // Fixed height\n\n    svg.attr('width', containerWidth)\n       .attr('height', containerHeight);\n    \n    // Clear existing content\n    svg.selectAll('*').remove();\n\n    // Render nodes\n    if (argumentSchema) {\n      const nodes = [{ id: argumentSchema._id, label: argumentSchema.title }];\n      \n      svg.selectAll('circle')\n         .data(nodes)\n         .enter()\n         .append('circle')\n         .attr('cx', containerWidth / 2)\n         .attr('cy', containerHeight / 2)\n         .attr('r', 20)\n         .attr('fill', '#1f77b4')\n         .attr('stroke', d => (d.id === clickedNode && !replyButtonClicked) ? 'red' : 'none') // Update stroke condition\n         .attr('stroke-width', 2)\n         .on('click', (event, d) => {\n           setClickedNode(prevClickedNode => prevClickedNode === d.id ? null : d.id);\n           handleNodeClick(d.id);\n         });\n    }\n\n  }, [argumentSchema, clickedNode, handleNodeClick, replyButtonClicked]);\n\n  const handleCancelButtonClick = () => {\n    setClickedNode(null); // Reset clickedNode state\n    setReplyButtonClicked(false); // Update replyButtonClicked state\n  };\n\n  return (\n    <svg ref={svgRef} style={{ border: '1px solid #ccc' }}>\n      {replyButtonClicked && (\n        <button onClick={handleCancelButtonClick}>Cancel</button>\n      )}\n    </svg>\n  );\n};\n\nexport default Graph;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
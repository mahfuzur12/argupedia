{"ast":null,"code":"var _jsxFileName = \"/home/mahfuzur/Desktop/argupedia_githubrepo/argupedia/client/src/components/Graph/Graph.js\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport * as d3 from 'd3';\nconst Graph = ({\n  argumentSchema,\n  handleNodeClick\n}) => {\n  const svgRef = useRef(null);\n  const [clickedNode, setClickedNode] = useState(null);\n  useEffect(() => {\n    const svg = d3.select(svgRef.current);\n\n    // Adjust width and height of the SVG container\n    const containerWidth = window.innerWidth * 0.9; // 90% of the window width\n    const containerHeight = 300; // Fixed height\n\n    svg.attr('width', containerWidth).attr('height', containerHeight);\n\n    // Clear existing content\n    svg.selectAll('*').remove();\n\n    // Render nodes\n    if (argumentSchema) {\n      const nodes = [{\n        id: argumentSchema._id,\n        label: argumentSchema.title\n      }];\n      svg.selectAll('circle').data(nodes).enter().append('circle').attr('cx', containerWidth / 2).attr('cy', containerHeight / 2).attr('r', 20).attr('fill', '#1f77b4').attr('stroke', d => d.id === clickedNode ? 'red' : 'none').attr('stroke-width', 2).on('click', (event, d) => {\n        if (handleNodeClick) {\n          handleNodeClick(d.id);\n        }\n        setClickedNode(prevClickedNode => prevClickedNode === d.id ? null : d.id);\n      });\n    }\n  }, [argumentSchema, clickedNode, handleNodeClick]);\n  const handleCancel = () => {\n    // Remove red outline when cancel button is clicked\n    setClickedNode(null);\n  };\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    ref: svgRef,\n    style: {\n      border: '1px solid #ccc'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  });\n};\nexport default Graph;","map":{"version":3,"names":["React","useEffect","useRef","useState","d3","Graph","argumentSchema","handleNodeClick","svgRef","clickedNode","setClickedNode","svg","select","current","containerWidth","window","innerWidth","containerHeight","attr","selectAll","remove","nodes","id","_id","label","title","data","enter","append","d","on","event","prevClickedNode","handleCancel","createElement","ref","style","border","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/home/mahfuzur/Desktop/argupedia_githubrepo/argupedia/client/src/components/Graph/Graph.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport * as d3 from 'd3';\n\nconst Graph = ({ argumentSchema, handleNodeClick }) => {\n  const svgRef = useRef(null);\n  const [clickedNode, setClickedNode] = useState(null);\n\n  useEffect(() => {\n    const svg = d3.select(svgRef.current);\n\n    // Adjust width and height of the SVG container\n    const containerWidth = window.innerWidth * 0.9; // 90% of the window width\n    const containerHeight = 300; // Fixed height\n\n    svg.attr('width', containerWidth)\n       .attr('height', containerHeight);\n    \n    // Clear existing content\n    svg.selectAll('*').remove();\n\n    // Render nodes\n    if (argumentSchema) {\n      const nodes = [{ id: argumentSchema._id, label: argumentSchema.title }];\n      \n      svg.selectAll('circle')\n         .data(nodes)\n         .enter()\n         .append('circle')\n         .attr('cx', containerWidth / 2)\n         .attr('cy', containerHeight / 2)\n         .attr('r', 20)\n         .attr('fill', '#1f77b4')\n         .attr('stroke', d => d.id === clickedNode ? 'red' : 'none')\n         .attr('stroke-width', 2)\n         .on('click', (event, d) => {\n           if (handleNodeClick) {\n             handleNodeClick(d.id);\n           }\n           setClickedNode(prevClickedNode => prevClickedNode === d.id ? null : d.id);\n         });\n    }\n\n  }, [argumentSchema, clickedNode, handleNodeClick]);\n\n  const handleCancel = () => {\n    // Remove red outline when cancel button is clicked\n    setClickedNode(null);\n  };\n\n  return (\n    <svg ref={svgRef} style={{ border: '1px solid #ccc' }}>\n      {/* Nodes and links rendering code */}\n    </svg>\n  );\n};\n\nexport default Graph;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,OAAO,KAAKC,EAAE,MAAM,IAAI;AAExB,MAAMC,KAAK,GAAGA,CAAC;EAAEC,cAAc;EAAEC;AAAgB,CAAC,KAAK;EACrD,MAAMC,MAAM,GAAGN,MAAM,CAAC,IAAI,CAAC;EAC3B,MAAM,CAACO,WAAW,EAAEC,cAAc,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAEpDF,SAAS,CAAC,MAAM;IACd,MAAMU,GAAG,GAAGP,EAAE,CAACQ,MAAM,CAACJ,MAAM,CAACK,OAAO,CAAC;;IAErC;IACA,MAAMC,cAAc,GAAGC,MAAM,CAACC,UAAU,GAAG,GAAG,CAAC,CAAC;IAChD,MAAMC,eAAe,GAAG,GAAG,CAAC,CAAC;;IAE7BN,GAAG,CAACO,IAAI,CAAC,OAAO,EAAEJ,cAAc,CAAC,CAC7BI,IAAI,CAAC,QAAQ,EAAED,eAAe,CAAC;;IAEnC;IACAN,GAAG,CAACQ,SAAS,CAAC,GAAG,CAAC,CAACC,MAAM,CAAC,CAAC;;IAE3B;IACA,IAAId,cAAc,EAAE;MAClB,MAAMe,KAAK,GAAG,CAAC;QAAEC,EAAE,EAAEhB,cAAc,CAACiB,GAAG;QAAEC,KAAK,EAAElB,cAAc,CAACmB;MAAM,CAAC,CAAC;MAEvEd,GAAG,CAACQ,SAAS,CAAC,QAAQ,CAAC,CACnBO,IAAI,CAACL,KAAK,CAAC,CACXM,KAAK,CAAC,CAAC,CACPC,MAAM,CAAC,QAAQ,CAAC,CAChBV,IAAI,CAAC,IAAI,EAAEJ,cAAc,GAAG,CAAC,CAAC,CAC9BI,IAAI,CAAC,IAAI,EAAED,eAAe,GAAG,CAAC,CAAC,CAC/BC,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,CACbA,IAAI,CAAC,MAAM,EAAE,SAAS,CAAC,CACvBA,IAAI,CAAC,QAAQ,EAAEW,CAAC,IAAIA,CAAC,CAACP,EAAE,KAAKb,WAAW,GAAG,KAAK,GAAG,MAAM,CAAC,CAC1DS,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,CACvBY,EAAE,CAAC,OAAO,EAAE,CAACC,KAAK,EAAEF,CAAC,KAAK;QACzB,IAAItB,eAAe,EAAE;UACnBA,eAAe,CAACsB,CAAC,CAACP,EAAE,CAAC;QACvB;QACAZ,cAAc,CAACsB,eAAe,IAAIA,eAAe,KAAKH,CAAC,CAACP,EAAE,GAAG,IAAI,GAAGO,CAAC,CAACP,EAAE,CAAC;MAC3E,CAAC,CAAC;IACP;EAEF,CAAC,EAAE,CAAChB,cAAc,EAAEG,WAAW,EAAEF,eAAe,CAAC,CAAC;EAElD,MAAM0B,YAAY,GAAGA,CAAA,KAAM;IACzB;IACAvB,cAAc,CAAC,IAAI,CAAC;EACtB,CAAC;EAED,oBACEV,KAAA,CAAAkC,aAAA;IAAKC,GAAG,EAAE3B,MAAO;IAAC4B,KAAK,EAAE;MAAEC,MAAM,EAAE;IAAiB,CAAE;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAEjD,CAAC;AAEV,CAAC;AAED,eAAetC,KAAK"},"metadata":{},"sourceType":"module"}